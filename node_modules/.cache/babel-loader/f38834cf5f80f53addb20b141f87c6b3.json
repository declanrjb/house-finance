{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */function (_super) {\n  __extends(TouchCaptor, _super);\n  function TouchCaptor(container, renderer) {\n    var _this = _super.call(this, container, renderer) || this;\n    _this.enabled = true;\n    _this.isMoving = false;\n    _this.touchMode = 0; // number of touches down\n    // Binding methods:\n    _this.handleStart = _this.handleStart.bind(_this);\n    _this.handleLeave = _this.handleLeave.bind(_this);\n    _this.handleMove = _this.handleMove.bind(_this);\n    // Binding events\n    container.addEventListener(\"touchstart\", _this.handleStart, false);\n    container.addEventListener(\"touchend\", _this.handleLeave, false);\n    container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n    container.addEventListener(\"touchmove\", _this.handleMove, false);\n    return _this;\n  }\n  TouchCaptor.prototype.kill = function () {\n    var container = this.container;\n    container.removeEventListener(\"touchstart\", this.handleStart);\n    container.removeEventListener(\"touchend\", this.handleLeave);\n    container.removeEventListener(\"touchcancel\", this.handleLeave);\n    container.removeEventListener(\"touchmove\", this.handleMove);\n  };\n  TouchCaptor.prototype.getDimensions = function () {\n    return {\n      width: this.container.offsetWidth,\n      height: this.container.offsetHeight\n    };\n  };\n  TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, position, emitter) {\n    var mousePosition = position || (0, captor_1.getPosition)(e.touches[0], this.container);\n    var mouseEvent = new MouseEvent(type, {\n      clientX: mousePosition.x,\n      clientY: mousePosition.y,\n      altKey: e.altKey,\n      ctrlKey: e.ctrlKey\n    });\n    mouseEvent.isFakeSigmaMouseEvent = true;\n    (emitter || this.container).dispatchEvent(mouseEvent);\n  };\n  TouchCaptor.prototype.handleStart = function (e) {\n    var _this = this;\n    if (!this.enabled) return;\n    // Prevent default to avoid default browser behaviors...\n    e.preventDefault();\n    // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n    if (e.touches.length === 1) this.dispatchRelatedMouseEvent(\"mousedown\", e);\n    var touches = (0, captor_1.getTouchesArray)(e.touches);\n    this.isMoving = true;\n    this.touchMode = touches.length;\n    this.startCameraState = this.renderer.getCamera().getState();\n    this.startTouchesPositions = touches.map(function (touch) {\n      return (0, captor_1.getPosition)(touch, _this.container);\n    });\n    this.lastTouchesPositions = this.startTouchesPositions;\n    // When there are two touches down, let's record distance and angle as well:\n    if (this.touchMode === 2) {\n      var _a = __read(this.startTouchesPositions, 2),\n        _b = _a[0],\n        x0 = _b.x,\n        y0 = _b.y,\n        _c = _a[1],\n        x1 = _c.x,\n        y1 = _c.y;\n      this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n      this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n    }\n    this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n  };\n  TouchCaptor.prototype.handleLeave = function (e) {\n    if (!this.enabled) return;\n    // Prevent default to avoid default browser behaviors...\n    e.preventDefault();\n    // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n    if (e.touches.length === 0 && this.lastTouchesPositions && this.lastTouchesPositions.length) {\n      this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouchesPositions[0], document);\n      this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouchesPositions[0]);\n    }\n    if (this.movingTimeout) {\n      this.isMoving = false;\n      clearTimeout(this.movingTimeout);\n    }\n    switch (this.touchMode) {\n      case 2:\n        if (e.touches.length === 1) {\n          this.handleStart(e);\n          e.preventDefault();\n          break;\n        }\n      /* falls through */\n      case 1:\n        // TODO\n        // Dispatch event\n        if (this.isMoving) {\n          var camera = this.renderer.getCamera();\n          var cameraState = camera.getState(),\n            previousCameraState = camera.getPreviousState() || {\n              x: 0,\n              y: 0\n            };\n          camera.animate({\n            x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n            y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y)\n          }, {\n            duration: TOUCH_INERTIA_DURATION,\n            easing: \"quadraticOut\"\n          });\n        }\n        this.isMoving = false;\n        this.touchMode = 0;\n        break;\n    }\n    this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n  };\n  TouchCaptor.prototype.handleMove = function (e) {\n    var _a;\n    var _this = this;\n    if (!this.enabled) return;\n    // Prevent default to avoid default browser behaviors...\n    e.preventDefault();\n    // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n    if (e.touches.length === 1) this.dispatchRelatedMouseEvent(\"mousemove\", e);\n    var camera = this.renderer.getCamera();\n    var startCameraState = this.startCameraState;\n    var touches = (0, captor_1.getTouchesArray)(e.touches);\n    var touchesPositions = touches.map(function (touch) {\n      return (0, captor_1.getPosition)(touch, _this.container);\n    });\n    this.lastTouchesPositions = touchesPositions;\n    this.isMoving = true;\n    if (this.movingTimeout) clearTimeout(this.movingTimeout);\n    this.movingTimeout = window.setTimeout(function () {\n      _this.isMoving = false;\n    }, DRAG_TIMEOUT);\n    switch (this.touchMode) {\n      case 1:\n        {\n          var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]),\n            xStart = _b.x,\n            yStart = _b.y;\n          var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]),\n            x = _c.x,\n            y = _c.y;\n          camera.setState({\n            x: startCameraState.x + xStart - x,\n            y: startCameraState.y + yStart - y\n          });\n          break;\n        }\n      case 2:\n        {\n          /**\n           * Here is the thinking here:\n           *\n           * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n           *    of the d'n'd and now\n           *\n           * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n           *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n           *    position of this same touch now\n           */\n          var newCameraState = {};\n          var _d = touchesPositions[0],\n            x0 = _d.x,\n            y0 = _d.y;\n          var _e = touchesPositions[1],\n            x1 = _e.x,\n            y1 = _e.y;\n          var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n          var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n          // 1.\n          var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n          newCameraState.ratio = newRatio;\n          newCameraState.angle = startCameraState.angle + angleDiff;\n          // 2.\n          var dimensions = this.getDimensions();\n          var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], {\n            cameraState: startCameraState\n          });\n          var smallestDimension = Math.min(dimensions.width, dimensions.height);\n          var dx = smallestDimension / dimensions.width;\n          var dy = smallestDimension / dimensions.height;\n          var ratio = newRatio / smallestDimension;\n          // Align with center of the graph:\n          var x = x0 - smallestDimension / 2 / dx;\n          var y = y0 - smallestDimension / 2 / dy;\n          // Rotate:\n          _a = __read([x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle), y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle)], 2), x = _a[0], y = _a[1];\n          newCameraState.x = touchGraphPosition.x - x * ratio;\n          newCameraState.y = touchGraphPosition.y + y * ratio;\n          camera.setState(newCameraState);\n          break;\n        }\n    }\n    this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n  };\n  return TouchCaptor;\n}(captor_1.default);\nexports.default = TouchCaptor;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__createBinding","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__read","n","Symbol","iterator","i","r","ar","e","next","done","push","error","exports","captor_1","require","DRAG_TIMEOUT","TOUCH_INERTIA_RATIO","TOUCH_INERTIA_DURATION","TouchCaptor","_super","container","renderer","_this","enabled","isMoving","touchMode","handleStart","bind","handleLeave","handleMove","addEventListener","kill","removeEventListener","getDimensions","width","offsetWidth","height","offsetHeight","dispatchRelatedMouseEvent","type","position","emitter","mousePosition","getPosition","touches","mouseEvent","MouseEvent","clientX","x","clientY","y","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","preventDefault","length","getTouchesArray","startCameraState","getCamera","getState","startTouchesPositions","map","touch","lastTouchesPositions","_a","_b","x0","y0","_c","x1","y1","startTouchesAngle","Math","atan2","startTouchesDistance","sqrt","pow","emit","getTouchCoords","document","movingTimeout","clearTimeout","camera","cameraState","previousCameraState","getPreviousState","animate","duration","easing","touchesPositions","window","setTimeout","viewportToFramedGraph","xStart","yStart","setState","newCameraState","_d","_e","angleDiff","ratioDiff","hypot","newRatio","getBoundedRatio","ratio","angle","dimensions","touchGraphPosition","smallestDimension","min","dx","dy","cos","sin","default"],"sources":["/Users/declanbradley/Documents/GitHub/house-finance/node_modules/sigma/core/captors/touch.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.touchMode = 0; // number of touches down\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, position, emitter) {\n        var mousePosition = position || (0, captor_1.getPosition)(e.touches[0], this.container);\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.x,\n            clientY: mousePosition.y,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.isMoving = true;\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouchesPositions && this.lastTouchesPositions.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouchesPositions[0], document);\n            this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouchesPositions[0]);\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouchesPositions = touchesPositions;\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}